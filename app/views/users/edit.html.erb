<!--error_message-->
  <% if flash[:errors] %>
  <div class="alert alert-danger">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <strong>以下、<%= flash[:errors].count %> 件のエラーをご確認ください:</strong><br>
    <% flash[:error_full_messages].each do |message| %>
      ・<%= message %><br>
    <% end %>
  </div>
  <% end %>
<!--end-->

<div class="container">
  <div class="row">
    <div class="user-edit col-8 offset-2 col-lg-6 offset-lg-3">
      <h4 class="my-5 text-center"><strong>アカウント編集画面</strong></h4>

      <%= form_with model: @user, url: '/users/:nickname', method: :patch, local:true do |f| %>
        <div class="field">
          <%= f.label :profile_image %><br />
          <%= f.attachment_field :profile_image, placeholder: "プロフィール画像" %>
        </div>

        <div class="field">
          <%= f.label :nickname %><br />
          <%= f.text_field :nickname, autofocus: true, class: 'col-12 mb-3' %>
        </div>

        <div class="field">
          <%= f.label :email %><br />
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'col-12 mb-3' %>
        </div>

        <div class="field">
          <%= f.label :introduction %><br />
          <%= f.text_area :introduction, autofocus: true, class: 'col-12 mb-3' %>
        </div>

        <div>
          <%= f.submit "編集する", class: "btn  btn-info btn-block" %>
        </div>
      <% end %>

      <div class="mt-3">
        <%= link_to "退会する", user_destroy_path(current_user), method: :delete,
            "data-confirm" => "退会すると投稿した料理全てが削除されます。本当に退会しますか？", class: "btn btn-sm btn-danger col-4 offset-8 col-lg-2 offset-lg-10" %>
      </div>
    </div>